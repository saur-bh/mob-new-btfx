# Shared App Setup Flow
# This flow handles app launch and mode selection

appId: com.bitfinex.bfxdev
name: "App Setup"
description: "Launch app and select mode (Lite/Full)"
---
# Launch app with clean state
- launchApp:
    clearState: true
    clearKeychain: true
# Import iOS test data and config
- runScript: '../../testdata/testdata-staging.js'
# Wait for app to load
- extendedWaitUntil:
    visible: "Tailored to you"
    timeout: 10000

# Select app mode (Lite or Full)
- tapOn:
    text: "${output.app.modes[output.app.currentMode].selector}"
    optional: true
    timeoutMs: "${output.app.modes[output.app.currentMode].timeout}"

# Continue to next screen
- tapOn: "Continue"
